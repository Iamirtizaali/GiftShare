<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GiftShare Signup</title>
  <link rel="stylesheet" href="../css/signup2nd.css">
</head>

<body>
  <div class="main-container">
    <div class="form-container">
      <!-- <div class="logo">
        <img src="logo.png" alt="GiftShare Logo">
      </div> -->
      <h1>Welcome X</h1>
      <p>Just a click away...</p>
      <form>
        <label for="phone">Phone Number</label>
        <input type="text" id="phone" name="phone" placeholder="Enter your phone number">

        <label for="address">Address</label>
        <input type="text" id="address" name ="address" placeholder="Enter your address">

        <div class="radio-group">
          <input type="radio" id="receiver" name="role">
          <label for="receiver">Receiver</label>

          <input type="radio" id="donor" name="role">
          <label for="donor">Donor</label>
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="terms" name="terms" required>
          <label for="terms">Agree to <a href="#">privacy and terms of use</a></label>
        </div>

        <button type="submit" class="signup-button" id="signup-btn">Sign Up</button>
      </form>
    </div>
    <div class="image-container">
      <img src="../../Images/signup 2nd.jpg" alt="Donate Box">
    </div>
  </div>

  <script>
    const formData2 = new FormData();
    formData2.append('phone', document.getElementById('phone').value);
    formData2.append('address', document.getElementById('address').value);
    formData2.append('role', document.querySelector('input[name="role"]:checked').value);

    const signupButton = document.getElementById('signup-btn');
    signupButton.addEventListener('click', (event) => {

    });

    // Retrieve data from session storage
    const storedData = JSON.parse(sessionStorage.getItem('signupData'));

    // Combine data from both pages
    const completeData = { ...storedData, ...formData2 };

    // Send complete data to server
    fetch('http://localhost:4000/api/auth/signup', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(completeData),
    })
      .then((res) => res.text())
      .then((message) => console.log(message))
      .catch((err) => console.error(err));
  </script>


</body>

</html>